# Supabase configuration for AWS EKS with RDS auto-generated secrets
# Use this file for production deployments with external RDS

# Security configuration - External Secrets from AWS Secrets Manager
secret:
  jwt:
    enabled: true
  db:
    enabled: true
    # ARN del secreto autom√°tico de RDS para credenciales correctas
    autoSecretArn: "rds!db-44a4708a-116b-44d0-b4f9-dedf908c3ca9-ue35yh"
  analytics:
    enabled: true
  dashboard:
    enabled: true
  s3:
    enabled: true
  smtp:
    enabled: false

# Database configuration - External RDS
db:
  enabled: false  # Using external RDS PostgreSQL

# External Secrets Operator configuration
externalSecrets:
  enabled: true
  clusterSecretStore:
    name: aws-secretsmanager

# Studio Application
studio:
  enabled: true
  replicaCount: 1

# Auth Service
auth:
  enabled: true
  replicaCount: 1
  autoscaling:
    enabled: false

# REST API
rest:
  enabled: true
  replicaCount: 1
  autoscaling:
    enabled: false

# Realtime Service
realtime:
  enabled: true
  replicaCount: 1
  autoscaling:
    enabled: false

# Meta Service
meta:
  enabled: true
  replicaCount: 1

# Storage Service (with S3 backend)
storage:
  enabled: true
  replicaCount: 1
  environment:
    STORAGE_BACKEND: "s3"  # Use S3 for production

# Analytics
analytics:
  enabled: true
  replicaCount: 1

# Functions
functions:
  enabled: true
  replicaCount: 1

# Kong Gateway
kong:
  enabled: true
  replicaCount: 1

# Vector/Embeddings
vector:
  enabled: false  # Disable if not needed

# ImgProxy
imgproxy:
  enabled: true
  replicaCount: 1

# MinIO (disable for production with S3)
minio:
  enabled: false
